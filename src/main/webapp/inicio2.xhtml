<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:p="http://primefaces.org/ui">
<h:head>    
    <meta charset="utf-8"/>
	<title>ECI-Administrador</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
        <meta content="" name="keywords"/>
        <meta content="" name="description"/>

        <link href="https://landing.escuelaing.edu.co/wp-content/themes/juliogaravito/favicon/apple-icon-57x57.png" rel="icon"/>
        <link href="https://landing.escuelaing.edu.co/wp-content/themes/juliogaravito/favicon/apple-icon-60x60.png" rel="apple-touch-icon"/>

        <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>

        <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet"/>
        <link href="lib/animate/animate.min.css" rel="stylesheet"/>
        <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet"/>
        <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet"/>
        <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet"/>

        <link href="css/style.css" rel="stylesheet"/>
</h:head>
<body>
    <style>
                                    .menubar {
                                     background: #800000 !important;
                                    }

                            </style>
      <p:toolbar styleClass="menubar">
                                <f:facet name="left">
                                    <p:link  value="Inicio" style="margin-left:20px;color:white;" />

                                

                                    <span class="ui-separator">
                                        <span class="ui-icon pi pi-ellipsis-v" />
                                    </span>

                                </f:facet>

                                <f:facet name="right">
                                     <p:link outcome="index.xhtml" value="Salir" style="color:white;" />

                                </f:facet>

                            </p:toolbar>
<style>
.xd {
  position: absolute;
  right: 600px;
  top: 230px;

}
</style>
                  
		
		<div class="limiter" id="home"  style="background-image: url(img/escuela-1.jpg)">
        <h1>Hello administrador!</h1>
         <h:form id = "registro">
            <center>
         
                
                              <p:panel id="panel" header="Register">
 
                                 <p:focus context="panel"/>
                                  <h:panelGrid id="grid" columns="2">
 
       
                            <label class="bmd-label-floating">Nombre</label>
                            <p:inputText class="form-control" id="Nombre" type="String"  binding="#{nombre}"/>
                            <label class="bmd-label-floating">Ubicacion</label>
                            <p:inputText class="form-control" id="Ubicacion" type="String" binding="#{ubicacion}"/>
                            <label class="bmd-label-floating">Tipo</label>
                            <p:inputText class="form-control" id="Tipo" type="String" binding="#{tipo}"/>
                            <label class="bmd-label-floating">Capacidad</label>
                            <p:inputText class="form-control" id="Capacidad" type="int" binding="#{capacidad}"/>
                            <label class="bmd-label-floating">Estado</label>
                            <p:inputText class="form-control" id="Estado" type="boolean" binding="#{estado}"/>
                            <label class="bmd-label-floating">Disponibilidad</label>
                            <p:inputText class="form-control" id="Disponibilidad" type="int" binding="#{disponibilidad}"/>
                            <label class="bmd-label-floating">Identificador</label>
                            <p:inputText class="form-control" id="Identificador" type="int" binding="#{identificador}"/>
							<p:commandButton class="btn pull-left" value="Registrar">
									<f:actionListener 
										binding="#{recursoBean.registrarRecurso(identificador.value,nombre.value,tipo.value,ubicacion.value,estado.value,capacidad.value,disponibilidad.value)}"
										/>
							</p:commandButton>
                            </h:panelGrid>
                                   </p:panel>
               
			</center>
			
			
			
			 
			<h1>Recursos habilitados</h1>
			
			<p:dataTable id="table1" var="re" value="#{recursoBean.consultarRecursosDisponibles()}">
						<p:column headerText="Id">
							<h:outputText value="#{re.getID()}" />
						</p:column>
					 
						<p:column headerText="Nombre">
							<h:outputText value="#{re.getNombre()}" />
						</p:column>
						<p:column headerText="Tipo">
							<h:outputText value="#{re.getTipo()}" />
						</p:column>
						<p:column headerText="Ubicacion">
							<h:outputText value="#{re.getUbicacion()}" />
						</p:column>
					
						<p:column headerText="Capacidad">
							<h:outputText value="#{re.getCapacidad()}" />
						</p:column>
						<p:column headerText="Disponibilidad">
							<h:outputText value="#{re.getDisponibilidad()}" />
						</p:column>
						<p:column headerText="Reservar">
							
							<p:commandButton  class="btn pull-right" value="Deshabilitar" update="@form" immediate="true" actionListener="#{recursoBean.cambiarEstado(false,re.getID())}" />
						
						</p:column>
						
						
						
					 
						
			</p:dataTable>
			<h1>Recursos deshabilitados</h1>
			
			<p:dataTable var="re" value="#{recursoBean.consultarRecursosNoDisponibles()}">
						<p:column headerText="Id">
							<h:outputText value="#{re.getID()}" />
						</p:column>
					 
						<p:column headerText="Nombre">
							<h:outputText value="#{re.getNombre()}" />
						</p:column>
						<p:column headerText="Tipo">
							<h:outputText value="#{re.getTipo()}" />
						</p:column>
						<p:column headerText="Ubicacion">
							<h:outputText value="#{re.getUbicacion()}" />
						</p:column>
						<p:column headerText="Capacidad">
							<h:outputText value="#{re.getCapacidad()}" />
						</p:column>
						<p:column headerText="Disponibilidad">
							<h:outputText value="#{re.getDisponibilidad()}" />
						</p:column>
						<p:column headerText="Reservar">
							
							<p:commandButton  class="btn pull-right" value="Habilitar" update="@form" immediate="true" actionListener="#{recursoBean.cambiarEstado(true,re.getID())}" />
						
						</p:column>
						
						
						
					 
						
			</p:dataTable>
		
            
         </h:form>
        
        </div>
   
     </body>
     
 
</html>

