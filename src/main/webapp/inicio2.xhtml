<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>administrador</title>
    </h:head>
    <h:body>
        <h1>Hello administrador!</h1>
         <h:form id = "registro">
            <center>
                <fieldset>
                        <legend>Registrar Recurso</legend>
                

                            <label class="bmd-label-floating">Nombre</label>
                            <p:inputText class="form-control" id="Nombre" type="String"  binding="#{nombre}"/>
                            <label class="bmd-label-floating">Ubicacion</label>
                            <p:inputText class="form-control" id="Ubicacion" type="String" binding="#{ubicacion}"/>
                            <label class="bmd-label-floating">Tipo</label>
                            <p:inputText class="form-control" id="Tipo" type="String" binding="#{tipo}"/>
                            <label class="bmd-label-floating">Capacidad</label>
                            <p:inputText class="form-control" id="Capacidad" type="int" binding="#{capacidad}"/>
                            <label class="bmd-label-floating">Estado</label>
                            <p:inputText class="form-control" id="Estado" type="boolean" binding="#{estado}"/>
                            <label class="bmd-label-floating">Disponibilidad</label>
                            <p:inputText class="form-control" id="Disponibilidad" type="int" binding="#{disponibilidad}"/>
                            <label class="bmd-label-floating">Identificador</label>
                            <p:inputText class="form-control" id="Identificador" type="int" binding="#{identificador}"/>
							<p:commandButton class="btn pull-left" value="Registrar">
									<f:actionListener 
										binding="#{recursoBean.registrarRecurso(identificador.value,nombre.value,tipo.value,ubicacion.value,estado.value,capacidad.value,disponibilidad.value)}"
										/>
							</p:commandButton>
                </fieldset>
               
			</center>
			
			
			
			 
			<h1>Recursos habilitados</h1>
			
			<p:dataTable id="table1" var="re" value="#{recursoBean.consultarRecursosDisponibles()}">
						<p:column headerText="Id">
							<h:outputText value="#{re.getID()}" />
						</p:column>
					 
						<p:column headerText="Nombre">
							<h:outputText value="#{re.getNombre()}" />
						</p:column>
						<p:column headerText="Tipo">
							<h:outputText value="#{re.getTipo()}" />
						</p:column>
						<p:column headerText="Ubicacion">
							<h:outputText value="#{re.getUbicacion()}" />
						</p:column>
					
						<p:column headerText="Capacidad">
							<h:outputText value="#{re.getCapacidad()}" />
						</p:column>
						<p:column headerText="Disponibilidad">
							<h:outputText value="#{re.getDisponibilidad()}" />
						</p:column>
						<p:column headerText="Reservar">
							
							<p:commandButton  class="btn pull-right" value="Deshabilitar" update="@form" immediate="true" actionListener="#{recursoBean.cambiarEstado(false,re.getID())}" />
						
						</p:column>
						
						
						
					 
						
			</p:dataTable>
			<h1>Recursos deshabilitados</h1>
			
			<p:dataTable var="re" value="#{recursoBean.consultarRecursosNoDisponibles()}">
						<p:column headerText="Id">
							<h:outputText value="#{re.getID()}" />
						</p:column>
					 
						<p:column headerText="Nombre">
							<h:outputText value="#{re.getNombre()}" />
						</p:column>
						<p:column headerText="Tipo">
							<h:outputText value="#{re.getTipo()}" />
						</p:column>
						<p:column headerText="Ubicacion">
							<h:outputText value="#{re.getUbicacion()}" />
						</p:column>
						<p:column headerText="Capacidad">
							<h:outputText value="#{re.getCapacidad()}" />
						</p:column>
						<p:column headerText="Disponibilidad">
							<h:outputText value="#{re.getDisponibilidad()}" />
						</p:column>
						<p:column headerText="Reservar">
							
							<p:commandButton  class="btn pull-right" value="Habilitar" update="@form" immediate="true" actionListener="#{recursoBean.cambiarEstado(true,re.getID())}" />
						
						</p:column>
						
						
						
					 
						
			</p:dataTable>
		
            
         </h:form>
        
   
     </h:body>
     
 
</html>

